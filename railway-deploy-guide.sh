#!/bin/bash

echo "ğŸš‚ HummingWallet Server - Railway Deployment Guide"
echo "================================================="
echo ""

echo "ğŸ“‹ Pre-deployment Checklist:"
echo "âœ… Code pushed to GitHub repository"
echo "âœ… Dockerfile created"
echo "âœ… railway.toml configured"
echo "âœ… Server updated to use PORT environment variable"
echo ""

echo "ğŸŒ Railway Deployment Steps:"
echo ""
echo "1. Go to https://railway.app and sign up/login with GitHub"
echo "2. Click 'New Project' â†’ 'Deploy from GitHub repo'"
echo "3. Select your repository: fitsyu2/HummingWallet-Server"
echo "4. Railway will automatically:"
echo "   - Detect your Dockerfile"
echo "   - Build your Swift server"
echo "   - Assign a PORT environment variable"
echo "   - Deploy to a permanent URL"
echo ""

echo "âš™ï¸  Railway automatically handles:"
echo "   âœ… PORT environment variable assignment"
echo "   âœ… HTTPS SSL certificates"
echo "   âœ… Domain provisioning"
echo "   âœ… Health checks"
echo "   âœ… Auto-scaling"
echo ""

echo "ğŸ”— After deployment succeeds:"
echo "   Your server will be available at: https://your-service-name.railway.app"
echo ""

echo "ğŸ¯ Your server will have these endpoints:"
echo "   â€¢ https://your-service-name.railway.app/health"
echo "   â€¢ https://your-service-name.railway.app/api/v1/liveactivities/send"
echo "   â€¢ https://your-service-name.railway.app/api/v1/video/demo/stream.m3u8"
echo ""

echo "ğŸ“± After deployment, update iOS app endpoints:"
echo "   Run: ./update-ios-endpoints.sh"
echo "   Enter your Railway URL when prompted"
echo ""

echo "ğŸ‰ Railway Benefits over Render:"
echo "   âœ… Better Swift/Docker support"
echo "   âœ… Faster deployments"
echo "   âœ… More reliable port detection"
echo "   âœ… Better logging and monitoring"
echo "   âœ… Generous free tier"
echo ""

echo "Happy deploying with Railway! ğŸš‚âœ¨"